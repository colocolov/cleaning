const more = document.querySelector(".about__more");
const text = document.querySelector(".about__text");

more.onclick = function () {
  text.classList.add("about__opened");
  if (text.style.height === "90px") {
    text.style.height = `${text.scrollHeight}px`;
  } else {
    text.style.height = `${text.scrollHeight}px`;
    window.getComputedStyle(text, null).getPropertyValue("height");
    text.style.height = "90";
  }
  more.remove();
};

// слайдер на главной
const aboutSlider = new Swiper(".about__slider", {
  loop: true,
  autoplay: {
    delay: 3000,
  },
  speed: 800,
  navigation: {
    nextEl: ".about__btn-next",
    prevEl: ".about__btn-prev",
    clickable: true,
  },
  effect: "fade",
  fadeEffect: {
    crossFade: true,
  },
  on: {
    init() {
      this.el.addEventListener("mouseenter", () => {
        this.autoplay.stop();
      });
      this.el.addEventListener("mouseleave", () => {
        this.autoplay.start();
      });
    },
  },
  //
});
//----- END

// accordeon
document.addEventListener("DOMContentLoaded", () => {
  const accordeons = document.querySelectorAll(".accordeon__item");

  accordeons.forEach((el) => {
    el.addEventListener("click", (e) => {
      const self = e.currentTarget;
      const title = self.querySelector(".accordeon__name");
      const content = self.querySelector(".accordeon__decription");
      self.classList.toggle("active");
    });
  });
});
// ----- END

// animation
if (window.screen.width >= 768) {
  function onEntry(entry) {
    entry.forEach((change) => {
      if (change.isIntersecting) {
        change.target.classList.add("element-show");
      } else {
        change.target.classList.remove("element-show");
      }
    });
  }

  let options = {
    threshold: [0.5],
  };
  let observer = new IntersectionObserver(onEntry, options);
  let elements = document.querySelectorAll(".component__icon");

  for (let elm of elements) {
    observer.observe(elm);
  }
}
// END

const scrWidth = window.screen.width;
const priceBtn = document.querySelector(".prices__btn");
const pricesContainer = document.querySelector(".prices__container");
const hygieneHead = document.querySelector(".hygiene__head");
const hygieneImg = document.querySelector(".hygiene__img");

const moveEl = function () {
  // move button on PRICE
  priceBtn.remove();
  pricesContainer.insertAdjacentHTML("beforeend", priceBtn.outerHTML);
  // move head title on HYGIENE
  hygieneHead.remove();
  hygieneImg.insertAdjacentHTML("beforeend", hygieneHead.outerHTML);
};

if (scrWidth <= 768) {
  moveEl();
}

// мобильное меню
// меню бургер
const iconMenu = document.querySelector(".menu__icon");
const menuBody = document.querySelector(".menu__body");
const menuLink = document.querySelectorAll(".menu__item");
if (iconMenu) {
  iconMenu.addEventListener("click", function (e) {
    document.body.classList.toggle("_lock");
    iconMenu.classList.toggle("_active");
    menuBody.classList.toggle("_active");
  });
}
// закрытие при клике
menuLink.forEach((item) => {
  item.addEventListener("click", () => {
    document.body.classList.remove("_lock");
    iconMenu.classList.remove("_active");
    menuBody.classList.remove("_active");
  });
});

// слайдер на главной
const processSlider = new Swiper(".process__slider", {
  loop: true,
  autoplay: {
    delay: 3000,
  },
  speed: 800,
  navigation: {
    nextEl: ".process__btn-next",
    prevEl: ".process__btn-prev",
    clickable: true,
  },
  effect: "fade",
  fadeEffect: {
    crossFade: true,
  },
  on: {
    init() {
      this.el.addEventListener("mouseenter", () => {
        this.autoplay.stop();
      });
      this.el.addEventListener("mouseleave", () => {
        this.autoplay.start();
      });
    },
  },
  //
});
//----- END

//# sourceMappingURL=main.min.js.map
